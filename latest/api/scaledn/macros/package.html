<!DOCTYPE html >
<html>
        <head>
          <title>macros - scaledn.macros</title>
          <meta name="description" content="macros - scaledn.macros" />
          <meta name="keywords" content="macros scaledn.macros" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../lib/template.js"></script>
      <script type="text/javascript" src="../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../index.html';
            var hash = 'scaledn.macros.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img src="../../lib/package_big.png" />
        <p id="owner"><a href="../package.html" class="extype" name="scaledn">scaledn</a></p>
        <h1>macros</h1> <span class="permalink">
      <a href="../../index.html#scaledn.macros.package" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">macros</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="comment cmt"><p>EDN macro parsing EDN strings into Scala/Shapeless types at compile-time</p><pre><span class="kw">import</span> scaledn._
<span class="kw">import</span> macros._

<span class="kw">val</span> s = EDNs(<span class="lit">""</span><span class="lit">"(1 2 3) "</span>toto<span class="lit">" [true false] :foo/bar"</span><span class="lit">""</span>)</pre></div><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><a href="EDNMacros.html" class="extype" name="scaledn.macros.EDNMacros">EDNMacros</a>, <span class="extype" name="scala.AnyRef">AnyRef</span>, <span class="extype" name="scala.Any">Any</span></div>
        </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="scaledn.macros"><span>macros</span></li><li class="in" name="scaledn.macros.EDNMacros"><span>EDNMacros</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show all</span></li>
            </ol>
            <a href="http://docs.scala-lang.org/overviews/scaladoc/usage.html#members" target="_blank">Learn more about member selection</a>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="scaledn.macros.EDNMacros" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="EDNMacrosextendsAnyRef"></a>
      <a id="EDNMacros:EDNMacros"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="EDNMacros.html"><span class="name">EDNMacros</span></a><span class="result"> extends <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@EDNMacrosextendsAnyRef" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="scaledn.macros.Helper" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="Helper[C&lt;:scala.reflect.macros.whitebox.Context]extendsAnyRef"></a>
      <a id="Helper[C&lt;:Context]:Helper[C]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="Helper.html"><span class="name">Helper</span></a><span class="tparams">[<span name="C">C &lt;: <span class="extype" name="scala.reflect.macros.whitebox.Context">Context</span></span>]</span><span class="result"> extends <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@Helper[C&lt;:scala.reflect.macros.whitebox.Context]extendsAnyRef" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="scaledn.macros.EDNMacros#EDN" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EDN(edn:String):Any"></a>
      <a id="EDN(String):Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">macro </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">EDN</span><span class="params">(<span name="edn">edn: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@EDN(edn:String):Any" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Macro parsing <b>Single</b> EDN value mapping collections to scala collection</p><div class="fullcomment"><div class="comment cmt"><p>Macro parsing <b>Single</b> EDN value mapping collections to scala collection</p><p>So, heterogenous collection will use <code>Any</code></p><pre><span class="cmt">// the type is just for info as it is inferred by scalac macro</span>
<span class="kw">val</span> list: <span class="std">List</span>[<span class="std">Long</span>] = EDN(<span class="lit">""</span><span class="lit">"(1 2 3)"</span><span class="lit">""</span>)
list should equal (<span class="std">List</span>(<span class="num">1</span>L, <span class="num">2</span>L, <span class="num">3</span>L))

<span class="kw">val</span> map = EDN(<span class="lit">""</span><span class="lit">"{ 1 "</span>toto<span class="lit">", 2 "</span>tata<span class="lit">", 3 "</span>tutu<span class="lit">" }"</span><span class="lit">""</span>)
map should equal (<span class="std">Map</span>(<span class="num">1</span>L -&gt; <span class="lit">"toto"</span>, <span class="num">2</span>L -&gt; <span class="lit">"tata"</span>, <span class="num">3</span>L -&gt; <span class="lit">"tutu"</span>))</pre><p>You can also use String interpolation mixed with this macro</p><pre><span class="cmt">// the types are just for info as it is inferred by scalac macro</span>
<span class="kw">val</span> l = <span class="num">123</span>L
<span class="kw">val</span> s = <span class="std">List</span>(<span class="lit">"foo"</span>, <span class="lit">"bar"</span>)

<span class="kw">val</span> r: <span class="std">Long</span> = EDN(s<span class="lit">"$$l"</span>)

<span class="kw">val</span> r1: <span class="std">Seq</span>[<span class="std">Any</span>] = EDN(s<span class="lit">"($$l $$s)"</span>)</pre></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="EDNMacros.html" class="extype" name="scaledn.macros.EDNMacros">EDNMacros</a></dd></dl></div>
    </li><li name="scaledn.macros.EDNMacros#EDNH" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EDNH(edn:String):Any"></a>
      <a id="EDNH(String):Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">macro </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">EDNH</span><span class="params">(<span name="edn">edn: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@EDNH(edn:String):Any" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Macro parsing <b>Single</b> EDN Value mapping collections to heterogenous shapeless HList</p><div class="fullcomment"><div class="comment cmt"><p>Macro parsing <b>Single</b> EDN Value mapping collections to heterogenous shapeless HList</p><p>The conversion of collections to HList is applied at first level only
To recursively convert to HList, use recursive macros</p><pre><span class="cmt">// the types are just for info as it is inferred by scalac macro</span>
<span class="kw">val</span> s: <span class="std">Long</span> :: <span class="std">String</span> :: <span class="std">Boolean</span> :: HNil = EDNH(<span class="lit">""</span><span class="lit">"(1 "</span>toto<span class="lit">" true)"</span><span class="lit">""</span>)
s should equal (<span class="num">1</span>L :: <span class="lit">"toto"</span> :: <span class="kw">true</span> :: HNil)

<span class="kw">val</span> s3 = EDNH(<span class="lit">""</span><span class="lit">"{1 "</span>toto<span class="lit">" true 1.234 "</span>foo<span class="lit">" (1 2 3)}"</span><span class="lit">""</span>)
s3 should equal (
  <span class="num">1</span>L -&gt;&gt; <span class="lit">"toto"</span> ::
  <span class="kw">true</span> -&gt;&gt; <span class="num">1.234</span> ::
  <span class="lit">"foo"</span> -&gt;&gt; <span class="std">List</span>(<span class="num">1</span>L, <span class="num">2</span>L, <span class="num">3</span>L) ::
  HNil
)</pre><p>You can also use String interpolation mixed with this macro</p><pre><span class="cmt">// the types are just for info as it is inferred by scalac macro</span>
<span class="kw">val</span> l = <span class="num">123</span>L
<span class="kw">val</span> s = <span class="std">List</span>(<span class="lit">"foo"</span>, <span class="lit">"bar"</span>)

<span class="kw">val</span> r2: <span class="std">Long</span> :: <span class="std">List</span>[<span class="std">String</span>] :: HNil = EDNH(s<span class="lit">"($$l $$s)"</span>)</pre></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="EDNMacros.html" class="extype" name="scaledn.macros.EDNMacros">EDNMacros</a></dd></dl></div>
    </li><li name="scaledn.macros.EDNMacros#EDNHR" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EDNHR(edn:String):Any"></a>
      <a id="EDNHR(String):Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">macro </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">EDNHR</span><span class="params">(<span name="edn">edn: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@EDNHR(edn:String):Any" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Macro parsing <b>Single</b> EDN Value mapping <b>recursively</b> collections
to heterogenous shapeless HList</p><div class="fullcomment"><div class="comment cmt"><p>Macro parsing <b>Single</b> EDN Value mapping <b>recursively</b> collections
to heterogenous shapeless HList</p><pre><span class="cmt">// the type is just for info as it is inferred by scalac macro</span>
<span class="kw">val</span> s: <span class="std">List</span>[<span class="std">Long</span>] :: <span class="std">String</span> :: Vector[<span class="std">Boolean</span>] :: EDNKeyword :: HNil = EDNHs(<span class="lit">""</span><span class="lit">"(1 2 3) "</span>toto<span class="lit">" [true false] :foo/bar"</span><span class="lit">""</span>)
s should equal (
  <span class="std">Seq</span>(<span class="num">1</span>L, <span class="num">2</span>L, <span class="num">3</span>L) ::
  <span class="lit">"toto"</span> ::
  Vector(<span class="kw">true</span>, <span class="kw">false</span>) ::
  EDNKeyword(EDNSymbol(<span class="lit">"foo/bar"</span>, <span class="std">Some</span>(<span class="lit">"foo"</span>))) ::
  HNil
)</pre><p>You can also use String interpolation mixed with this macro.</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="EDNMacros.html" class="extype" name="scaledn.macros.EDNMacros">EDNMacros</a></dd></dl></div>
    </li><li name="scaledn.macros.EDNMacros#EDNHRs" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EDNHRs(edn:String):Any"></a>
      <a id="EDNHRs(String):Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">macro </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">EDNHRs</span><span class="params">(<span name="edn">edn: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@EDNHRs(edn:String):Any" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Macro parsing <b>Multiple</b> EDN Value mapping <b>recursively</b> collections
to heterogenous shapeless HList</p><div class="fullcomment"><div class="comment cmt"><p>Macro parsing <b>Multiple</b> EDN Value mapping <b>recursively</b> collections
to heterogenous shapeless HList</p><pre><span class="cmt">// the type is just for info as it is inferred by scalac macro</span>
<span class="kw">val</span> s2 = EDNHRs(<span class="lit">""</span><span class="lit">"(1 2 3) "</span>toto<span class="lit">" [true false] :foo/bar"</span><span class="lit">""</span>)
s2 should equal (
  (<span class="num">1</span>L :: <span class="num">2</span>L :: <span class="num">3</span>L :: HNil) ::
  <span class="lit">"toto"</span> ::
  (<span class="kw">true</span> :: <span class="kw">false</span> :: HNil) ::
  EDNKeyword(EDNSymbol(<span class="lit">"foo/bar"</span>, <span class="std">Some</span>(<span class="lit">"foo"</span>))) ::
  HNil
)</pre><p>You can also use String interpolation mixed with this macro.</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="EDNMacros.html" class="extype" name="scaledn.macros.EDNMacros">EDNMacros</a></dd></dl></div>
    </li><li name="scaledn.macros.EDNMacros#EDNHs" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EDNHs(edn:String):Any"></a>
      <a id="EDNHs(String):Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">macro </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">EDNHs</span><span class="params">(<span name="edn">edn: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@EDNHs(edn:String):Any" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Macro parsing <b>Multiple</b> EDN Value mapping collections to heterogenous shapeless HList</p><div class="fullcomment"><div class="comment cmt"><p>Macro parsing <b>Multiple</b> EDN Value mapping collections to heterogenous shapeless HList</p><p>The conversion of collections to HList is applied at first level only
To recursively convert to HList, use recursive macros</p><pre><span class="cmt">// the type is just for info as it is inferred by scalac macro</span>
<span class="kw">val</span> s: <span class="std">List</span>[<span class="std">Long</span>] :: <span class="std">String</span> :: Vector[<span class="std">Boolean</span>] :: EDNKeyword.</pre></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="EDNMacros.html" class="extype" name="scaledn.macros.EDNMacros">EDNMacros</a></dd></dl></div>
    </li><li name="scaledn.macros.EDNMacros#EDNs" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EDNs(edn:String):Any"></a>
      <a id="EDNs(String):Any"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">macro </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">EDNs</span><span class="params">(<span name="edn">edn: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result">: <span class="extype" name="scala.Any">Any</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@EDNs(edn:String):Any" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Macro parsing <b>Multiple</b> EDN value mapping collections to scala collection</p><div class="fullcomment"><div class="comment cmt"><p>Macro parsing <b>Multiple</b> EDN value mapping collections to scala collection</p><p>So, heterogenous collection will use <code>Any</code></p><pre><span class="cmt">// the types are just for info as it is inferred by scalac macro</span>
<span class="kw">val</span> s: <span class="std">Seq</span>[<span class="std">Any</span>] = EDNs(<span class="lit">""</span><span class="lit">"(1 2 3) "</span>toto<span class="lit">" [true false] :foo/bar"</span><span class="lit">""</span>)
s should equal (<span class="std">Seq</span>(
  <span class="std">Seq</span>(<span class="num">1</span>L, <span class="num">2</span>L, <span class="num">3</span>L),
  <span class="lit">"toto"</span>,
  Vector(<span class="kw">true</span>, <span class="kw">false</span>),
  EDNKeyword(EDNSymbol(<span class="lit">"foo/bar"</span>, <span class="std">Some</span>(<span class="lit">"foo"</span>)))
))</pre><p>You can also use String interpolation mixed with this macro</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="EDNMacros.html" class="extype" name="scaledn.macros.EDNMacros">EDNMacros</a></dd></dl></div>
    </li><li name="scaledn.macros.MacroImpl" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="MacroImpl"></a>
      <a id="MacroImpl:MacroImpl"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="MacroImpl$.html"><span class="name">MacroImpl</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../index.html#scaledn.macros.package@MacroImpl" title="Permalink" target="_top">
        <img src="../../lib/permalink.png" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scaledn.macros.EDNMacros">
              <h3>Inherited from <a href="EDNMacros.html" class="extype" name="scaledn.macros.EDNMacros">EDNMacros</a></h3>
            </div><div class="parent" name="scala.AnyRef">
              <h3>Inherited from <span class="extype" name="scala.AnyRef">AnyRef</span></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <span class="extype" name="scala.Any">Any</span></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>